package com.szkk.widget;import java.util.Calendar;import java.util.List;import android.app.DatePickerDialog;import android.os.Bundle;import android.view.View;import android.view.ViewGroup;import android.widget.Button;import android.widget.DatePicker;import android.widget.EditText;import android.widget.RadioGroup;import android.widget.RadioGroup.OnCheckedChangeListener;import com.szkk.data.KK;import com.szkk.net.delegate.KKSearchTaskDelegate;import com.szkk.utils.ViewUtil;import com.szkk.www.R;import com.szkk.www.SZActivity;public class KKSearchActivity extends SZActivity implements KKSearchTaskDelegate{	private EditText numEdit;	private EditText nameEdit;	private EditText ageEdit;	private Button enrolDateStart;	private Button enrolDateEnd;	private Button analyseDateStart;	private Button analyseDateEnd;	private Button confirmBtn;	private RadioGroup radioGroup;	private RadioGroup searchByTypeadioGroup;	private int gender = -1;	private int id = -1;	private int searchType = -1;	private boolean isFinished = true;	private  DatePickerDialog dateDialog;	private Calendar calendar = Calendar.getInstance();	private DatePickerDialog.OnDateSetListener dateListener = new DatePickerDialog.OnDateSetListener() {				@Override		public void onDateSet(DatePicker view, int year, int monthOfYear,				int dayOfMonth) {			monthOfYear = monthOfYear + 1;			String 	str = year + getResources().getString(R.string.year) +								monthOfYear + getResources().getString(R.string.mounth) + 								dayOfMonth + getResources().getString(R.string.day);			if(id == R.id.kk_search_by_sign_date_btn){				enrolDateStart.setText(str);			}else if(id == R.id.kk_search_by_sign_date_btn2){				enrolDateEnd.setText(str);   			}else if(id == R.id.kk_search_by_analyse_date_btn){				analyseDateStart.setText(str);			}else if(id == R.id.kk_search_by_analyse_date_btn2){				analyseDateEnd.setText(str);			}		}	};		@Override	protected void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		setContentView(R.layout.activity_kk_search);		initView();	}	private void initView() {		ViewGroup view = (ViewGroup) findViewById(R.id.main_layout);		ViewUtil.zoomView(view);			    numEdit = (EditText) findViewById(R.id.kk_search_by_num_edit);		nameEdit = (EditText) findViewById(R.id.kk_search_by_name_edit);		ageEdit = (EditText) findViewById(R.id.kk_search_by_age_edit);		radioGroup = (RadioGroup) findViewById(R.id.radioGroup); 		searchByTypeadioGroup = (RadioGroup) findViewById(R.id.search_by_type_radiogroup);		enrolDateStart = (Button) findViewById(R.id.kk_search_by_sign_date_btn);		enrolDateEnd = (Button) findViewById(R.id.kk_search_by_sign_date_btn2);		analyseDateStart = (Button) findViewById(R.id.kk_search_by_analyse_date_btn); 		analyseDateEnd = (Button) findViewById(R.id.kk_search_by_analyse_date_btn2);		confirmBtn = (Button) findViewById(R.id.btn_search);				enrolDateStart.setOnClickListener(onClickListener);		enrolDateEnd.setOnClickListener(onClickListener);		analyseDateStart.setOnClickListener(onClickListener);		analyseDateEnd.setOnClickListener(onClickListener);				searchByTypeadioGroup.setOnCheckedChangeListener(new OnCheckedChangeListener() {						@Override			public void onCheckedChanged(RadioGroup group, int checkedId) {				if(checkedId == R.id.type_analysed){					searchType = 1;				}else if(checkedId == R.id.type_handled){					searchType = 2;				}else if(checkedId == R.id.type_not_analysed){					searchType = 3;				}			}		});				radioGroup.setOnCheckedChangeListener(new OnCheckedChangeListener() {						@Override			public void onCheckedChanged(RadioGroup group, int checkedId) {				if(checkedId == R.id.radioMale){					gender = 1;				}else if(checkedId == R.id.radioFemale){					gender = 0;				}			}		});				dateDialog = new DatePickerDialog(this, 				dateListener, 	            calendar.get(Calendar.YEAR), 	            calendar.get(Calendar.MONTH), 	            calendar.get(Calendar.DAY_OF_MONTH));   	}		private View.OnClickListener onClickListener = new View.OnClickListener() {				@Override		public void onClick(View v) {			if(v.getId() == R.id.btn_search){				if(!isFinished){					return;				}				isFinished = false;							}else{				id = v.getId();				showDateDialog();			}		}	};		private void showDateDialog(){		dateDialog.show();	}	@Override	public void didFinishSearch(List<KK> list) {			}	@Override	public void didFailedSearch() {			}		}