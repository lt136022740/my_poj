package com.szkk.widget;import android.graphics.drawable.Drawable;import android.os.Bundle;import android.os.Handler;import android.os.Message;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import com.szkk.data.KK;import com.szkk.utils.ImageDownloader;import com.szkk.utils.ImageDownloaderDelegate;import com.szkk.utils.LocalUtil;import com.szkk.utils.ViewUtil;import com.szkk.www.R;import com.szkk.www.SZActivity;public class ItemDetailActivity extends SZActivity implements ImageDownloaderDelegate{	private TextView tview_value_num;	private TextView tview_value_name;	private TextView tview_value_gender;	private TextView tview_value_age;		private TextView tview_value_occupation;	private TextView tview_value_area;	private TextView tview_value_temperature;	private TextView tview_value_date_sign;		private TextView tview_value_status_analyse;	private TextView tview_value_date_analyse;	private TextView tview_value_status_handle;	private TextView tview_value_doctor_sign;		private ImageView imgview;		@Override		protected void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		setContentView(R.layout.activity_item_detail);		initView();		initValue();	}	private void initValue(){		KK kk = (KK) getIntent().getSerializableExtra("kk");		tview_value_num.setText(kk.getId()+"");		tview_value_name.setText(kk.getName());		String gender = kk.getGender()==0?getResources().getString(R.string.female) :			getResources().getString(R.string.male);		tview_value_gender.setText(gender);		tview_value_age.setText(kk.getAge());		tview_value_occupation.setText(kk.getOccupation());		tview_value_area.setText(kk.getAddress());		tview_value_temperature.setText(kk.getCurrent_env_temp());		tview_value_date_sign.setText(kk.getSignDate()+"");		tview_value_status_analyse.setText(kk.getAnalyseStatus());		tview_value_date_analyse.setText(kk.getAnalyseDate());		tview_value_status_handle.setText(kk.getHandleStatus());		tview_value_doctor_sign.setTag(kk.getSignName());		ImageDownloader.getInstance("http://192.168.1.101:3000/hand_image/0822441365.jpg", this).start();	}		private void initView() {		ViewGroup view = (ViewGroup) findViewById(R.id.main_layout);		ViewUtil.zoomView(view);				tview_value_num = (TextView) findViewById(R.id.detial_tview_num_vaue);		tview_value_name = (TextView) findViewById(R.id.detial_tview_name_vaue);		tview_value_gender = (TextView) findViewById(R.id.detial_tview_gender_vaue);		tview_value_age = (TextView) findViewById(R.id.detial_tview_age_vaue);				tview_value_occupation = (TextView) findViewById(R.id.detial_tview_occupation_value);		tview_value_area = (TextView) findViewById(R.id.detial_tview_address_value);		tview_value_temperature = (TextView) findViewById(R.id.detial_tview_tempra_value);		tview_value_date_sign = (TextView) findViewById(R.id.detial_tview_sign_date_value);				tview_value_status_analyse = (TextView) findViewById(R.id.detial_tview_analyze_status_value);		tview_value_date_analyse = (TextView) findViewById(R.id.detial_tview_analyze_date_value);		tview_value_status_handle = (TextView) findViewById(R.id.detial_tview_handle_status_value);		tview_value_doctor_sign = (TextView) findViewById(R.id.detial_tview_analyzer_sign_value);				imgview = (ImageView) findViewById(R.id.icon_imgview);	}	private Handler handler = new Handler(){		@Override		public void handleMessage(Message msg) {			Drawable d = (Drawable) msg.obj;			if(d != null)				imgview.setBackgroundDrawable(d);			else				LocalUtil.showTipDialog(R.string.down_img_failed);		}			};		@Override	public void didFinishedDownImage(Drawable drawable) {		Message msg = new Message();		msg.obj = drawable;		handler.sendMessage(msg);	}	@Override	public void didFailedDownImage(int error) {		Message msg = new Message();		msg.obj = null;		handler.sendMessage(msg);	}}