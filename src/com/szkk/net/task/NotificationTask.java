package com.szkk.net.task;import org.json.JSONObject;import android.util.Log;import com.szkk.data.User;import com.szkk.net.SZHttpRequest;import com.szkk.net.delegate.NotificationTaskDelegate;import com.szkk.net.delegate.SZHttpRequestDelegate;import com.szkk.system.AppConfig;import com.szkk.system.ApplicationManager;public class NotificationTask implements SZHttpRequestDelegate{	private NotificationTaskDelegate delegate;		public NotificationTask(int user_id, NotificationTaskDelegate delegate){		this.delegate = delegate;				String url = String.format("%snotification/%d/check_notify", AppConfig.ROOT_URL, user_id);		SZHttpRequest request = new SZHttpRequest(this);		request.requestGet(url);	}		@Override	public void requestSuccess(SZHttpRequest request) {		try {			String jsonStr = new String(request.receiveDataBuffer, "UTF-8");			JSONObject jsonObj = new JSONObject(jsonStr);			delegate.didFinishCheckNofity(jsonObj.optBoolean("notification"));		} catch (Exception e) {		} 	}	@Override	public void requestFailed(int error) {		delegate.didFailedCheckNofity();	}}