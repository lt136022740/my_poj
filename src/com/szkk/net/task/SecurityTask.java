package com.szkk.net.task;import java.util.LinkedHashMap;import com.szkk.data.User;import com.szkk.net.SZHttpRequest;import com.szkk.net.delegate.SZHttpRequestDelegate;import com.szkk.net.delegate.SecurityTaskDelegate;import com.szkk.system.AppConfig;import com.szkk.system.ApplicationManager;public class SecurityTask implements SZHttpRequestDelegate{	private SecurityTaskDelegate delegate;		public SecurityTask(String old_pwd, String new_pwd, String new_pwd_con, 			SecurityTaskDelegate delegate){		this.delegate = delegate;		String url = String.format("%susers/password_update", AppConfig.ROOT_URL);		User user = ApplicationManager.sharedManager().currentUser;		LinkedHashMap<Object, Object> params = new LinkedHashMap<Object, Object>();		params.put("old_password", old_pwd);		params.put("new_password", new_pwd);		params.put("new_password_con", new_pwd_con);		params.put("user_id", String.valueOf(user.getId()));		SZHttpRequest request = new SZHttpRequest(this);		request.requestGet(url, params);	}		@Override	public void requestSuccess(SZHttpRequest request) {		try {			//String jsonStr = new String(request.receiveDataBuffer, "UTF-8");			delegate.didFinishModifyPwd();		} catch (Exception e) {					} 	}	@Override	public void requestFailed(int error) {		delegate.didFailedModifyPwd();	}}